<div>
  <p class="help-block" data-translate="">ui/searchAppConfig-help</p>

  <fieldset data-ng-repeat="(m, mCfg) in jsonConfig.mods">
    <legend>
      <input type="checkbox"
             id="{{m}}-checkbox"
             data-ng-model="mCfg.enabled"/>&nbsp;
      <label class="control-label"
             for="{{m}}-checkbox">{{m || translate}}</label>
    </legend>


    <div class="col-sm-8"
         data-ng-repeat="(key, value) in mCfg"
         data-ng-switch="key">
      <div data-ng-switch-when="enabled"></div>
      <!-- arrays -->
      <div data-ng-switch-when="hitsPerPage">
        <label class="control-label">{{key | translate}}</label>
        <table class="table table-striped">
          <tr data-ng-repeat="v in mCfg[key] track by $index">
            <td>
              <input type="number"
                     class="form-control"
                     id="{{key}}-{{$index}}"
                     data-ng-model="mCfg[key][$index]"/>
            </td>
            <td>
              <a class="btn btn-link text-danger"
                 title="{{'remove' | translate}}"
                 data-ng-click="removeItem(mCfg[key], $index)">
                <i class="fa fa-times text-danger"/>
              </a>
            </td>
          </tr>
          <tr>
            <td>
              <a class="btn btn-link"
                 title="{{'add' | translate}}"
                 data-ng-click="addItem(mCfg[key], mCfg[key][mCfg[key].length - 1] * 10)">
                <i class="fa fa-plus"/>
              </a>
            </td>
          </tr>
        </table>
      </div>
      <div data-ng-switch-default>
        <label class="control-label">{{key | translate}}</label>
        <input type="text"
               class="form-control"
               data-ng-model="value"/>
      </div>
    </div>
  </fieldset>
  <br/>
  <textarea name="{{id}}">{{jsonConfig}}</textarea>
</div>
